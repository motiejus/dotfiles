export LC_CTYPE=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export PS1='\[\e[0;32m\]\u\[\e[m\] \[\e[1;34m\]\w\[\e[m\] \[\e[1;32m\]\$\[\e[m\] '
export LSCOLORS=ExFxBxDxCxegedabagacad
export CLICOLOR=y
export HISTSIZE=50000
export GOTRACEBACK=all
export VAGRANT_DEFAULT_PROVIDER=virtualbox

eval "$(direnv hook bash)"
export DIRENV_LOG_FORMAT=""
export CLUSTODSN=postgresql://clusto:clusto@127.0.0.1:5432/clusto
export EDITOR=vim
export MONOREPO_GOPATH_MODE=1

ulimit -Sn 10240

for path in \
    $HOME/bin \
    ; do
    if [[ ! $PATH =~ $path ]]; then
        export PATH=$path:$PATH
    fi
done

toolshed() {
    local ti="-i"
    if [[ -t 0 ]]; then
        local ti="-ti"
    fi
    docker run --init --name toolshed -v `pwd`:/x -w /x "$ti" --rm motiejus/toolshed "$@"
}

nman() {
    nvim +"Man $*" +on
}

. $HOME/.gg.sh
. $HOME/.gopathmodeFunc.bash

alias l='echo -n Å‚ | pbcopy'

export UBER_PROFILE_UID=motiejus
export UBER_LDAP_UID=motiejus
alias cerberus='cerberus --zone phx2 --no-status-page'

if [[ $uname == Darwin ]]; then
    alias grep='/usr/local/bin/ggrep'
    alias vim=/usr/local/bin/vim
    alias vimdiff=/usr/local/bin/vimdiff
else
    export UBER_HOME=/home/motiejus/Uber
    export UBER_OWNER=motiejus@uber.com
fi

bazel() {
    arg1=$1
    shift
    env bazel "$arg1" --color=yes "$@" 3>&1 1>&2 2>&3 | grep -Ev 'DEBUG: .*401 Unauthorized$'
}
